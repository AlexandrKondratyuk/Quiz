(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports={Drawer:"Drawer__Drawer--2Nzcl",close:"Drawer__close--3eUiV",active:"Drawer__active--WxScd"}},21:function(e,t,a){e.exports={MenuToggle:"MenuToggle__MenuToggle--1mqO0",open:"MenuToggle__open--1kMjG"}},23:function(e,t,a){e.exports={Quiz:"Quiz__Quiz--3J8Ip",QuizWrapper:"Quiz__QuizWrapper--2cJp0"}},24:function(e,t,a){e.exports={ActiveQuiz:"ActiveQuiz__ActiveQuiz--1xPLH",Question:"ActiveQuiz__Question--2AtZS"}},25:function(e,t,a){e.exports={AnswerItem:"AnswerItem__AnswerItem--FMFZL",success:"AnswerItem__success--tAKqq",error:"AnswerItem__error--27Deq"}},26:function(e,t,a){e.exports={FinishedQuiz:"FinishedQuiz__FinishedQuiz--3-Dtz",success:"FinishedQuiz__success--1N7XY",error:"FinishedQuiz__error--34veZ"}},27:function(e,t,a){e.exports={Button:"Button__Button--QI7b2",error:"Button__error--tZCD8",success:"Button__success--3d-85",primary:"Button__primary--2Lss2"}},28:function(e,t,a){e.exports={Loader:"Loader__Loader--2iSOk","lds-roller":"Loader__lds-roller--1TSlh",center:"Loader__center--1YZNW"}},29:function(e,t,a){e.exports={Auth:"Auth__Auth--2YUr1",AuthForm:"Auth__AuthForm--2Xb4F"}},30:function(e,t,a){e.exports={Input:"Input__Input--s67N0",invalid:"Input__invalid--flTJ3"}},38:function(e,t,a){e.exports={Layout:"Layout__Layout--2C2_c"}},39:function(e,t,a){e.exports={BackDrop:"BackDrop__BackDrop--wZny4"}},41:function(e,t,a){e.exports={AnswersList:"AnswersList__AnswersList--1WLwo"}},42:function(e,t,a){e.exports={QuizList:"QuizList__QuizList--2oxZy"}},44:function(e,t,a){e.exports={QuizCreator:"QuizCreator__QuizCreator--1_s5y"}},45:function(e,t,a){e.exports={Select:"Select__Select--1rPbL"}},46:function(e,t,a){e.exports=a(94)},51:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(37),i=a.n(s),o=a(97),l=(a(51),a(3)),c=a(4),u=a(6),d=a(5),m=a(7),h=a(98),p=a(95),v=a(38),f=a.n(v),w=a(21),g=a.n(w),b=function(e){var t=[g.a.MenuToggle,"fa"];return e.isOpen?(t.push("fa-times"),t.push(g.a.open)):t.push("fa-bars"),r.a.createElement("i",{className:t.join(" "),onClick:e.onToggle})},E=a(19),y=a.n(E),k=a(96),C=a(39),z=a.n(C),_=function(e){return r.a.createElement("div",{className:z.a.BackDrop,onClick:e.onClick})},j=[{to:"/",label:"List",exact:!0},{to:"/auth",label:"Authorization",exact:!1},{to:"/quiz-creator",label:"Create test",exact:!1}],O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).clickHandler=function(){a.props.onClose()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderLinks",value:function(){var e=this;return j.map(function(t,a){return r.a.createElement("li",{key:a},r.a.createElement(k.a,{to:t.to,exact:t.exact,activeClassName:y.a.active,onClick:e.clickHandler},t.label))})}},{key:"render",value:function(){var e=[y.a.Drawer];return this.props.isOpen||e.push(y.a.close),r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:e.join(" ")},r.a.createElement("ul",null,this.renderLinks())),this.props.isOpen?r.a.createElement(_,{onClick:this.props.onClose}):null)}}]),t}(n.Component),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={menu:!1},a.toggleMenuHandler=function(){a.setState({menu:!a.state.menu})},a.menuCloseHandler=function(){a.setState({menu:!1})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:f.a.Layout},r.a.createElement(O,{isOpen:this.state.menu,onClose:this.menuCloseHandler}),r.a.createElement(b,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),r.a.createElement("main",null,this.props.children))}}]),t}(n.Component),q=a(8),x=a.n(q),Q=a(12),S=a(14),L=a(23),I=a.n(L),N=a(24),F=a.n(N),H=a(41),M=a.n(H),D=a(25),V=a.n(D),T=function(e){var t=[V.a.AnswerItem];return e.state&&t.push(V.a[e.state]),r.a.createElement("li",{className:t.join(" "),onClick:function(){return e.onAnswerClick(e.answer.id)}},e.answer.text)},B=function(e){return r.a.createElement("ul",{className:M.a.AnswersList},r.a.createElement("ul",null," ",e.answers.map(function(t,a){return r.a.createElement(T,{key:a,answer:t,onAnswerClick:e.onAnswerClick,state:e.state?e.state[t.id]:null})})," "))},W=function(e){return r.a.createElement("div",{className:F.a.ActiveQuiz},r.a.createElement("p",{className:F.a.Question},r.a.createElement("span",null,r.a.createElement("strong",null,e.answerNumber,"."),"\xa0",e.question),r.a.createElement("small",null," ",e.answerNumber," from ",e.quizLength," ")),r.a.createElement(B,{state:e.state,answers:e.answers,onAnswerClick:e.onAnswerClick}))},P=a(26),Y=a.n(P),Z=a(27),J=a.n(Z),R=function(e){var t=[J.a.Button,J.a[e.type]];return r.a.createElement("button",{onClick:e.onClick,className:t.join(" "),disabled:e.disabled},e.children)},U=a(22),G=function(e){var t=Object.keys(e.results).reduce(function(t,a){return"success"===e.results[a]&&t++,t},0);return r.a.createElement("div",{className:Y.a.FinishedQuiz},r.a.createElement("ul",null,e.quiz.map(function(t,a){var n=["fa","error"===e.results[t.id]?"fa-times":"fa-check",Y.a[e.results[t.id]]];return r.a.createElement("li",{key:a},r.a.createElement("strong",null,a+1),".\xa0",t.question,r.a.createElement("i",{className:n.join(" ")}))})),r.a.createElement("p",null," Correct ",t," from ",e.quiz.length," "),r.a.createElement("div",null,r.a.createElement(R,{onClick:e.onRetry,type:"primary"},"Retry"),r.a.createElement(U.a,{to:"/"},r.a.createElement(R,{type:"success"},"Go to list tests"))))},X=a(15),K=a.n(X),$=K.a.create({baseURL:"https://react-quiz-8cba8.firebaseio.com/"}),ee=a(28),te=a.n(ee),ae=function(e){return r.a.createElement("div",{className:te.a.center},r.a.createElement("div",{className:te.a.Loader},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))},ne=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={results:{},isFinished:!1,activeQuestion:0,answerState:null,quiz:[],loading:!0},a.onAnswerClickHandler=function(e){if(a.state.answerState){var t=Object.keys(a.state.answerState)[0];if("success"===a.state.answerState[t])return}var n=a.state.quiz[a.state.activeQuestion],r=a.state.results;if(n.rightAnswerId===e){r[n.id]||(r[n.id]="success"),a.setState({answerState:Object(S.a)({},e,"success"),results:r});var s=window.setTimeout(function(){a.isQuizFinished()?(a.setState({isFinished:!0}),console.log("Finished!")):a.setState({activeQuestion:a.state.activeQuestion+1,answerState:null}),window.clearTimeout(s)},1e3)}else r[n.id]="error",a.setState({answerState:Object(S.a)({},e,"error"),results:r})},a.retryHandler=function(){a.setState({activeQuestion:0,answerState:null,isFinished:!1,results:{}})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"isQuizFinished",value:function(){return this.state.activeQuestion+1===this.state.quiz.length}},{key:"componentDidMount",value:function(){var e=Object(Q.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.get("/quizes/".concat(this.props.match.params.id,".json"));case 3:t=e.sent,a=t.data,this.setState({quiz:a,loading:!1}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:I.a.Quiz},r.a.createElement("div",{className:I.a.QuizWrapper},r.a.createElement("h1",null," Answer the questions "),this.state.loading?r.a.createElement(ae,null):this.state.isFinished?r.a.createElement(G,{results:this.state.results,quiz:this.state.quiz,onRetry:this.retryHandler}):r.a.createElement(W,{answers:this.state.quiz[this.state.activeQuestion].answers,question:this.state.quiz[this.state.activeQuestion].question,onAnswerClick:this.onAnswerClickHandler,quizLength:this.state.quiz.length,answerNumber:this.state.activeQuestion+1,state:this.state.answerState})))}}]),t}(n.Component),re=a(42),se=a.n(re),ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={quizes:[],loading:!0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderQuizes",value:function(){return this.state.quizes.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(k.a,{to:"/quiz/"+e.id},e.name))})}},{key:"componentDidMount",value:function(){var e=Object(Q.a)(x.a.mark(function e(){var t,a;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$.get("/quizes.json");case 3:t=e.sent,a=[],Object.keys(t.data).forEach(function(e,t){a.push({id:e,name:"Test #".concat(t+1)})}),this.setState({quizes:a,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:se.a.QuizList},r.a.createElement("div",null,r.a.createElement("h1",null,"List of tests"),this.state.loading?r.a.createElement(ae,null):r.a.createElement("ul",null,this.renderQuizes())),r.a.createElement("h1",null,"Quiz List"))}}]),t}(n.Component),oe=a(13),le=a(29),ce=a.n(le),ue=a(30),de=a.n(ue);function me(e){var t=e.valid,a=e.touched,n=e.shouldValidate;return!t&&n&&a}var he=function(e){var t=e.type||"text",a=[de.a.Input],n="".concat(t,"-").concat(Math.random());return me(e)&&a.push(de.a.invalid),r.a.createElement("div",{className:a.join(" ")},r.a.createElement("label",{htmlFor:n},e.label),r.a.createElement("input",{type:t,id:n,value:e.value,onChange:e.onChange}),me(e)?r.a.createElement("span",null,e.errorMessage||"Input correct value"):null)},pe=a(43),ve=a.n(pe),fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"Input correct email",valid:!1,touched:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Input correct password",valid:!1,touched:!1,validation:{required:!0,minLength:6}}}},a.loginHandler=Object(Q.a)(x.a.mark(function e(){var t,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:a.state.formControls.email.value,password:a.state.formControls.password.value,returnSecureToken:!0},e.prev=1,e.next=4,K.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyAHkESY96NPWY5_57AMuwqF6qN4E2wISEE",t);case 4:n=e.sent,console.log(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])})),a.registerHandler=Object(Q.a)(x.a.mark(function e(){var t,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={email:a.state.formControls.email.value,password:a.state.formControls.password.value,returnSecureToken:!0},e.prev=1,e.next=4,K.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyAHkESY96NPWY5_57AMuwqF6qN4E2wISEE",t);case 4:n=e.sent,console.log(n.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])})),a.submitHandler=function(e){e.preventDefault()},a.onChangeHandler=function(e,t){var n=Object(oe.a)({},a.state.formControls),r=Object(oe.a)({},n[t]);r.value=e.target.value,r.touched=!0,r.valid=a.validateControl(r.value,r.validation),n[t]=r;var s=!0;Object.keys(n).forEach(function(e){s=n[e].valid&&s}),a.setState({formControls:n,isFormValid:s})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"validateControl",value:function(e,t){if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),t.email&&(a=ve.a.email(e)&&a),t.minLength&&(a=e.length>=t.minLength&&a),a}},{key:"renderInput",value:function(){var e=this;return Object.keys(this.state.formControls).map(function(t,a){var n=e.state.formControls[t];return r.a.createElement(he,{key:t+a,type:n.type,value:n.value,valid:n.valid,touched:n.touched,label:n.label,shouldValidate:!!n.validation,errorMessage:n.errorMessage,onChange:function(a){return e.onChangeHandler(a,t)}})})}},{key:"render",value:function(){return r.a.createElement("div",{className:ce.a.Auth},r.a.createElement("div",null,r.a.createElement("h1",null,"Authorization"),r.a.createElement("form",{onSubmit:this.submitHandler,className:ce.a.AuthForm},this.renderInput(),r.a.createElement(R,{type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid},"Log In"),r.a.createElement(R,{type:"primary",onClick:this.registerHandler,disabled:!this.state.isFormValid},"Log On"))))}}]),t}(n.Component),we=a(44),ge=a.n(we);function be(e,t){return Object(oe.a)({},e,{validation:t,valid:!t,touched:!1,value:""})}var Ee=a(45),ye=a.n(Ee),ke=function(e){var t="".concat(e.label,"-").concat(Math.random());return r.a.createElement("div",{className:ye.a.Select},r.a.createElement("label",{htmlFor:t},e.label),r.a.createElement("select",{id:t,value:e.value,onChange:e.onChange},e.options.map(function(e,t){return r.a.createElement("option",{value:e.value,key:e.value+t},e.text)})))},Ce=function(e){return e.children};function ze(e){return be({label:"Variant ".concat(e),errorMessage:"Value can't be empty",id:e},{required:!0})}function _e(){return{question:be({label:"Enter question",errorMessage:"Question can't be empty"},{required:!0}),option1:ze(1),option2:ze(2),option3:ze(3),option4:ze(4)}}var je=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={quiz:[],isFormValid:!1,rightAnswerId:1,formControls:_e()},a.submitHandler=function(e){e.preventDefault()},a.addQuestionHandler=function(e){e.preventDefault();var t=a.state.quiz.concat(),n=t.length+1,r=a.state.formControls,s=r.question,i=r.option1,o=r.option2,l=r.option3,c=r.option4,u={question:s.value,id:n,rightAnswerId:a.state.rightAnswerId,answers:[{text:i.value,id:i.id},{text:o.value,id:o.id},{text:l.value,id:l.id},{text:c.value,id:c.id}]};t.push(u),a.setState({quiz:t,isFormValid:!1,rightAnswerId:1,formControls:_e()})},a.createQuizHandler=function(){var e=Object(Q.a)(x.a.mark(function e(t){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,$.post("/quizes.json",a.state.quiz);case 4:a.setState({quiz:[],isFormValid:!1,rightAnswerId:1,formControls:_e()}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),a.changeHandler=function(e,t){var n=Object(oe.a)({},a.state.formControls),r=Object(oe.a)({},n[t]);r.touched=!0,r.value=e,r.valid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var a=!0;return t.required&&(a=""!==e.trim()&&a),a}(r.value,r.validation),n[t]=r,a.setState({formControls:n,isFormValid:function(e){var t=!0;for(var a in e)e.hasOwnProperty(a)&&(t=e[a].valid&&t);return t}(n)})},a.selectChangeHandler=function(e){a.setState({rightAnswerId:+e.target.value})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderInputs",value:function(){var e=this;return Object.keys(this.state.formControls).map(function(t,a){var n=e.state.formControls[t];return r.a.createElement(Ce,{key:t+a},r.a.createElement(he,{label:n.label,value:n.value,valid:n.valid,shouldValidate:!!n.validation,touched:n.touched,errorMessage:n.errorMessage,onChange:function(a){return e.changeHandler(a.target.value,t)}}),0===a?r.a.createElement("hr",null):null)})}},{key:"render",value:function(){var e=r.a.createElement(ke,{label:"Choose correct answer",value:this.state.rightAnswerId,onChange:this.selectChangeHandler,options:[{text:"1",value:1},{text:"2",value:2},{text:"3",value:3},{text:"4",value:4}]});return r.a.createElement("div",{className:ge.a.QuizCreator},r.a.createElement("div",null,r.a.createElement("h1",null,"Creating test"),r.a.createElement("form",{onSubmit:this.submitHandler},this.renderInputs(),e,r.a.createElement(R,{type:"primary",onClick:this.addQuestionHandler,disabled:!this.state.isFormValid},"Add question"),r.a.createElement(R,{type:"success",onClick:this.createQuizHandler,disabled:0===this.state.quiz.length},"Create test"))))}}]),t}(n.Component),Oe=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(A,null,r.a.createElement(h.a,null,r.a.createElement(p.a,{path:"/auth",component:fe}),r.a.createElement(p.a,{path:"/quiz-creator",component:je}),r.a.createElement(p.a,{path:"/quiz/:id",component:ne}),r.a.createElement(p.a,{path:"/",component:ie})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ae=r.a.createElement(o.a,null,r.a.createElement(Oe,null));i.a.render(Ae,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,2,1]]]);
//# sourceMappingURL=main.9802ec0f.chunk.js.map